<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Hall da Fama: Personalidades</title>
  <style>
    :root{
      --primary:#4B0082;
      --accent:#8A2BE2;
      --muted:#f0f0f0;
      --card-radius:12px;
    }
    *{box-sizing:border-box}
    body{
      margin:0;
      font-family:Inter, Arial, Helvetica, sans-serif;
      background:#fafafa;
      color:#222;
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
    }

    header{
      background:linear-gradient(90deg,var(--primary),var(--accent));
      color:white;
      padding:36px 20px;
      text-align:center;
    }
    header h1{margin:0;font-size:2rem}
    header p{margin:8px 0 0;color:rgba(255,255,255,0.9)}

    main{padding:28px 20px; max-width:1200px; margin:0 auto}

    section{margin-bottom:36px}
    section h2{
      display:inline-block;
      margin:0 0 14px 0;
      font-size:1.4rem;
      border-bottom:3px solid var(--primary);
      padding-bottom:6px;
    }

    .cards{
      display:grid;
      grid-template-columns:repeat(auto-fit,minmax(220px,1fr));
      gap:20px;
      margin-top:16px;
    }

    .card{
      background:white;
      border-radius:var(--card-radius);
      overflow:hidden;
      box-shadow:0 6px 18px rgba(0,0,0,0.08);
      cursor:pointer;
      transition:transform .22s ease, box-shadow .22s ease;
      display:flex;
      flex-direction:column;
      min-height:320px;
      position:relative;
    }
    .card:hover{transform:translateY(-6px); box-shadow:0 14px 30px rgba(0,0,0,0.12)}
    .card .thumb{
      width:100%;
      height:220px;
      background:var(--muted);
      display:flex;
      justify-content:center;
      align-items:center;
      padding:10px;
    }
    .card .thumb img{
      max-width:100%;
      max-height:100%;
      object-fit:contain; /* mostra inteira sem cortar */
      display:block;
      transition:transform .45s ease;
    }
    .card:hover .thumb img{transform:scale(1.04)} /* zoom suave */
    .card .content{
      padding:14px;
      display:flex;
      flex-direction:column;
      gap:8px;
      flex:1;
    }
    .card h3{margin:0;color:var(--primary);font-size:1.05rem}
    .card p{margin:0;color:#444;font-size:.92rem;flex:1}
    .card .meta{font-size:.85rem;color:#777;margin-top:8px}

    /* modal */
    .modal{
      position:fixed;
      inset:0;
      display:none;
      align-items:center;
      justify-content:center;
      background:rgba(0,0,0,0.6);
      z-index:1200;
      padding:20px;
      animation:fadeIn .16s ease;
    }
    .modal.show{display:flex}
    @keyframes fadeIn{from{opacity:0}to{opacity:1}}

    .modal-panel{
      width:100%;
      max-width:920px;
      background:white;
      border-radius:12px;
      overflow:hidden;
      box-shadow:0 30px 80px rgba(11,11,11,0.25);
      transform:translateY(8px);
      animation:panelIn .18s cubic-bezier(.2,.9,.2,1);
      max-height:90vh;
      display:flex;
      flex-direction:column;
    }
    @keyframes panelIn{from{opacity:0;transform:translateY(18px)}to{opacity:1;transform:translateY(0)}}

    .modal-header{
      display:flex;
      gap:12px;
      align-items:center;
      padding:20px;
      border-bottom:1px solid #eee;
    }
    .modal-header .m-thumb{
      width:96px;height:96px;background:var(--muted);border-radius:8px;flex:0 0 96px;display:flex;
      justify-content:center;align-items:center;overflow:hidden;
    }
    .modal-header .m-thumb img{
      width:100%;
      height:100%;
      object-fit:contain;
      display:block;
      cursor:zoom-in;
      transition:transform .12s ease, opacity .12s ease;
    }
    .modal-header .m-info h2{margin:0;font-size:1.25rem;color:var(--primary)}
    .modal-header .m-info p{margin:6px 0 0;color:#555}

    .modal-body{
      padding:18px 20px 24px 20px;
      overflow:auto;
    }

    .modal-body .bio{
      margin-bottom:18px;color:#444;
    }

    .modal-body .refs{margin-bottom:18px}
    .modal-body .refs a{color:var(--primary);text-decoration:none;font-weight:600;margin-right:12px}
    .modal-body .refs a:hover{text-decoration:underline}

    /* timeline */
    .timeline{
      position:relative;
      padding-left:28px;
      margin-top:12px;
    }
    .timeline:before{
      content:"";
      position:absolute;
      left:8px;
      top:0;
      bottom:0;
      width:4px;
      background:linear-gradient(var(--primary),var(--accent));
      border-radius:6px;
    }
    .event{
      position:relative;
      margin-bottom:18px;
      padding-left:12px;
    }
    .event .dot{
      position:absolute;
      left:-4px;
      top:6px;
      width:14px;height:14px;border-radius:50%;
      background:white;border:4px solid var(--primary);
      box-shadow:0 2px 6px rgba(0,0,0,0.08);
    }
    .event h4{margin:0;font-size:1rem;color:#111}
    .event p{margin:6px 0 0;color:#555}

    /* footer small */
    .modal-footer{
      padding:12px 18px;
      border-top:1px solid #f0f0f0;
      display:flex;
      justify-content:flex-end;
      gap:8px;
    }
    .btn{
      background:var(--primary);
      color:white;
      border:none;
      padding:8px 12px;
      border-radius:8px;
      cursor:pointer;
      font-weight:600;
    }
    .btn.ghost{
      background:transparent;color:var(--primary);border:1px solid #eee;
    }

    /* zoom overlay (aparece ao clicar na miniatura) */
    .zoom-overlay{
      position:fixed;
      inset:0;
      display:flex;
      align-items:center;
      justify-content:center;
      background:rgba(0,0,0,0.85);
      z-index:2400;
      padding:24px;
      animation:zoomFade .14s ease;
      cursor:zoom-out;
    }
    .zoom-overlay img{
      max-width:94%;
      max-height:94%;
      border-radius:10px;
      box-shadow:0 20px 60px rgba(0,0,0,0.6);
      transform:translateY(0);
      transition:transform .18s cubic-bezier(.2,.9,.2,1);
    }
    @keyframes zoomFade{from{opacity:0}to{opacity:1}}

    /* responsive tweaks */
    @media (max-width:640px){
      .modal-header{flex-direction:row;gap:10px}
      .modal-header .m-thumb{width:72px;height:72px;flex:0 0 72px}
    }

  </style>
</head>
<body>

  <header>
    <h1>Hall da Fama: Personalidades</h1>
    <p>Galeria categorizada com linhas do tempo das contribuições</p>
  </header>

  <main>

    <!-- Ciência e Tecnologia -->
    <section aria-labelledby="ct-title">
      <h2 id="ct-title">Ciência & Tecnologia</h2>
      <div class="cards" id="section-science">
        <!-- cards: 1..4 (removido Mark Dean conforme pedido) -->
        <article class="card" data-id="carver" data-img="imagem/1.jpg" data-ref="https://pt.wikipedia.org/wiki/George_Washington_Carver" 
                 data-desc="Cientista e inventor que desenvolveu muitos produtos a partir do amendoim e ajudou agricultura de pequenas propriedades.">
          <div class="thumb"><img src="imagem/1.png" alt="George Washington Carver" onerror="this.src='imagem/default.jpg'"></div>
          <div class="content">
            <h3>George W. Carver</h3>
            <p>Inovador agrícola e inventor, trouxe alternativas econômicas a agricultores.</p>
            <div class="meta">EUA — Ciências</div>
          </div>
        </article>

        <article class="card" data-id="jemison" data-img="imagem/2.jpg" data-ref="https://pt.wikipedia.org/wiki/Mae_Jemison"
                 data-desc="Médica, engenheira e a primeira mulher negra a viajar para o espaço.">
          <div class="thumb"><img src="imagem/2.png" alt="Mae Jemison" onerror="this.src='imagem/default.jpg'"></div>
          <div class="content">
            <h3>Mae Jemison</h3>
            <p>Médica e astronauta, referência para mulheres negras na ciência espacial.</p>
            <div class="meta">EUA — Astronomia & Medicina</div>
          </div>
        </article>

        <article class="card" data-id="katherine" data-img="imagem/3.jpg" data-ref="https://pt.wikipedia.org/wiki/Katherine_Johnson"
                 data-desc="Matemática da NASA, realizou cálculos críticos para missões espaciais.">
          <div class="thumb"><img src="imagem/3.png" alt="Katherine Johnson" onerror="this.src='imagem/default.jpg'"></div>
          <div class="content">
            <h3>Katherine Johnson</h3>
            <p>Matemática cujo trabalho foi essencial para as missões tripuladas da NASA.</p>
            <div class="meta">EUA — Matemática</div>
          </div>
        </article>

        <article class="card" data-id="timnit" data-img="imagem/5.jpg" data-ref="https://en.wikipedia.org/wiki/Timnit_Gebru"
                 data-desc="Pesquisadora em IA que destacou vieses e ética em modelos de machine learning.">
          <div class="thumb"><img src="imagem/5.png" alt="Timnit Gebru" onerror="this.src='imagem/default.jpg'"></div>
          <div class="content">
            <h3>Timnit Gebru</h3>
            <p>Pesquisadora em ética de IA e cofundadora de iniciativas por diversidade em tecnologia.</p>
            <div class="meta">IA — Ética</div>
          </div>
        </article>
      </div>
    </section>

    <!-- Educação e Desenvolvimento Humano (nova seção) -->
    <section aria-labelledby="ed-title">
      <h2 id="ed-title">Educação & Desenvolvimento Humano</h2>
      <div class="cards" id="section-education">
        <article class="card" data-id="celia" data-img="imagem/celia.jpg" data-desc="Educadora dedicada à formação humana e social, valorizando empatia e colaboração.">
          <div class="thumb"><img src="imagem/celia.png" alt="Célia" onerror="this.src='imagem/default.jpg'"></div>
          <div class="content">
            <h3>Célia</h3>
            <p>Educadora e mentora com foco em práticas participativas.</p>
            <div class="meta">Educação — Formação Humana</div>
          </div>
        </article>

        <article class="card" data-id="claudia" data-img="imagem/claudia.jpg" data-desc="Pedagoga e pesquisadora em aprendizagem significativa.">
          <div class="thumb"><img src="imagem/claudia.png" alt="Cláudia" onerror="this.src='imagem/default.jpg'"></div>
          <div class="content">
            <h3>Cláudia</h3>
            <p>Pedagoga e pesquisadora, atuante em educação inclusiva.</p>
            <div class="meta">Educação — Pedagogia</div>
          </div>
        </article>

        <article class="card" data-id="rosaria" data-img="imagem/rosaria.jpg" data-desc="Especialista em desenvolvimento humano e práticas educativas transformadoras.">
          <div class="thumb"><img src="imagem/rosaria.png" alt="Rosária" onerror="this.src='imagem/default.jpg'"></div>
          <div class="content">
            <h3>Rosária</h3>
            <p>Especialista em desenvolvimento humano e formação continuada.</p>
            <div class="meta">Educação — Desenvolvimento Humano</div>
          </div>
        </article>

        <article class="card" data-id="quennia" data-img="imagem/quennia.jpg" data-desc="Psicóloga educacional comprometida com o bem-estar e a inclusão na aprendizagem.">
          <div class="thumb"><img src="imagem/quennia.png" alt="Quennia" onerror="this.src='imagem/default.jpg'"></div>
          <div class="content">
            <h3>Quenia</h3>
            <p>Psicóloga educacional, focada em saúde mental escolar.</p>
            <div class="meta">Educação — Psicologia</div>
          </div>
        </article>
      </div>
    </section>


    <!-- Cinema e Música -->
    <section aria-labelledby="al-title">
      <h2 id="al-title"> Cinema & Música</h2>
      <div class="cards" id="section-cinema-music">

        <article class="card" data-id="andre-novais" data-img="imagem/andre-novais.png" data-ref="https://pt.wikipedia.org/wiki/Andr%C3%A9_Novais_Oliveira"
                 data-desc="Cineasta mineiro reconhecido internacionalmente por retratar o cotidiano e afetos da periferia de Contagem.">
          <div class="thumb"><img src="imagem/andre-novais.png" alt="André Novais Oliveira" onerror="this.src='imagem/23.png'"></div>
          <div class="content">
            <h3>André Novais Oliveira</h3>
            <p>Cineasta de Contagem (MG), premiado por obras sensíveis e autênticas sobre a vida cotidiana.</p>
            <div class="meta">Brasil — Cinema</div>
          </div>
        </article>

        <article class="card" data-id="gabriel-martins" data-img="imagem/gabriel-martins.png" data-ref="https://pt.wikipedia.org/wiki/Gabriel_Martins_(cineasta)"
                 data-desc="Cineasta mineiro cofundador da produtora Filmes de Plástico e codiretor do filme Marte Um, indicado ao Oscar.">
          <div class="thumb"><img src="imagem/gabriel-martins.png" alt="Gabriel Martins" onerror="this.src='imagem/22.png'"></div>
          <div class="content">
            <h3>Gabriel Martins</h3>
            <p>Diretor e roteirista mineiro, destaque do cinema nacional contemporâneo.</p>
            <div class="meta">Brasil — Cinema</div>
          </div>
        </article>

        <article class="card" data-id="liniker" data-img="imagem/liniker.png" data-ref="https://pt.wikipedia.org/wiki/Liniker"
                 data-desc="Cantora, compositora e atriz brasileira, reconhecida por sua voz poderosa e por representar a diversidade e o orgulho negro.">
          <div class="thumb"><img src="imagem/liniker.png" alt="Liniker" onerror="this.src='imagem/21.png'"></div>
          <div class="content">
            <h3>Liniker</h3>
            <p>Cantora e atriz premiada, símbolo de representatividade e força artística.</p>
            <div class="meta">Brasil — Música</div>
          </div>
        </article>

        <article class="card" data-id="iza" data-img="imagem/iza.png" data-ref="https://pt.wikipedia.org/wiki/Iza_(cantora)"
                 data-desc="Cantora e compositora carioca, referência na música pop e no empoderamento feminino e racial.">
          <div class="thumb"><img src="imagem/iza.png" alt="Iza" onerror="this.src='imagem/20.png'"></div>
          <div class="content">
            <h3>Iza</h3>
            <p>Artista pop brasileira com carreira internacional e mensagens de empoderamento.</p>
            <div class="meta">Brasil — Música</div>
          </div>
        </article>

      </div>
    </section>

    <!-- Esportes -->
    
    
<section aria-labelledby="sp-title">
  <h2 id="sp-title">Esportes</h2>
  <div class="cards" id="section-sports">

    <article class="card" data-id="pele" data-img="imagem/16.png" data-ref="https://pt.wikipedia.org/wiki/Pel%C3%A9"
             data-desc="Considerado o maior jogador de futebol da história, tricampeão mundial.">
      <div class="thumb"><img src="imagem/16.png" alt="Pelé" onerror="this.src='imagem/default.jpg'"></div>
      <div class="content">
        <h3>Pelé</h3>
        <p>Lenda do futebol com enorme impacto esportivo e cultural.</p>
        <div class="meta">Brasil — Futebol</div>
      </div>
    </article>

    <article class="card" data-id="rebeca" data-img="imagem/rebeca.png" data-ref="https://pt.wikipedia.org/wiki/Rebeca_Andrade"
             data-desc="Ginasta brasileira, campeã olímpica e símbolo de superação.">
      <div class="thumb"><img src="imagem/rebeca.png" alt="Rebeca Andrade" onerror="this.src='imagem/default.jpg'"></div>
      <div class="content">
        <h3>Rebeca Andrade</h3>
        <p>Ginasta campeã olímpica e mundial, inspiração no esporte brasileiro.</p>
        <div class="meta">Brasil — Ginástica Artística</div>
      </div>
    </article>

    <article class="card" data-id="beatriz" data-img="imagem/beatriz.png" data-ref="https://pt.wikipedia.org/wiki/Beatriz_Souza_(judoca)"
             data-desc="Judoca brasileira medalhista olímpica e mundial, destaque do judô feminino.">
      <div class="thumb"><img src="imagem/beatriz.png" alt="Beatriz Souza" onerror="this.src='imagem/default.jpg'"></div>
      <div class="content">
        <h3>Beatriz Souza</h3>
        <p>Judoca brasileira, exemplo de força e perseverança no tatame.</p>
        <div class="meta">Brasil — Judô</div>
      </div>
    </article>

  </div>
</section>

    

    <!-- Extras (mantidos) -->
    <section aria-labelledby="extras-title">
     
      <div class="cards" id="section-extras">
      
        <!-- Elonka removida conforme solicitado -->
      </div>
    </section>

  </main>

  <!-- Modal (reutilizável) -->
  <div id="modal" class="modal" role="dialog" aria-modal="true" aria-hidden="true">
    <div class="modal-panel" role="document" aria-labelledby="modal-title">
      <div class="modal-header">
        <div class="m-thumb"><img id="m-image" src="imagem/default.jpg" alt=""></div>
        <div class="m-info">
          <h2 id="modal-title">Título</h2>
          <p id="modal-sub">Subtítulo / categoria</p>
        </div>
        <div style="margin-left:auto;padding-right:18px">
          <button class="btn" id="closeBtn" title="Fechar">Fechar</button>
        </div>
      </div>

      <div class="modal-body">
        <div class="bio" id="modal-desc">Descrição breve...</div>
        <div class="refs" id="modal-links"></div>

        <h3 style="margin-top:6px;margin-bottom:6px;color:var(--primary)">Linha do Tempo</h3>
        <div class="timeline" id="modal-timeline" aria-live="polite"></div>
      </div>

      <div class="modal-footer">
        <button class="btn ghost" id="btnCloseFooter">Fechar</button>
      </div>
    </div>
  </div>

  <script>
    /****************************************************************
     * Dados das timelines para cada pessoa (id -> {title,events[]})
     * Mantidos / ajustados conforme sua versão personalizada.
     ****************************************************************/
const timelineData = {
  carver: {
    title: 'George Washington Carver',
    desc: 'Cientista e inventor que revolucionou a agricultura com alternativas ao cultivo exclusivo do algodão.',
    ref: 'https://pt.wikipedia.org/wiki/George_Washington_Carver',
    img: 'imagem/1.png',
    events: [
      {year:'1896', text:'Formou-se e iniciou trabalho com agricultura experimental.'},
      {year:'1916', text:'Liderou pesquisas no Tuskegee Institute ajudando agricultores rurais.'},
      {year:'1920–1940', text:'Desenvolveu centenas de produtos derivados do amendoim e outras plantas, promovendo diversificação agrícola.'}
    ]
  },

  jemison: {
    title:'Mae Jemison',
    desc:'Médica, engenheira e astronauta — primeira mulher negra no espaço.',
    ref:'https://pt.wikipedia.org/wiki/Mae_Jemison',
    img: 'imagem/2.png',
    events:[
      {year:'1981', text:'Atuação médica em áreas internacionais e projetos de saúde global.'},
      {year:'1992', text:'Viajou ao espaço a bordo do ônibus espacial Endeavour.'},
      {year:'1993–presente', text:'Iniciativas em educação e tecnologia para jovens, promovendo STEM.'}
    ]
  },

  katherine: {
    title:'Katherine Johnson',
    desc:'Matemática que fez cálculos essenciais para a NASA e missões espaciais.',
    ref:'https://pt.wikipedia.org/wiki/Katherine_Johnson',
    img: 'imagem/3.png',
    events:[
      {year:'1950s', text:'Trabalhou na NASA realizando cálculos orbitais fundamentais.'},
      {year:'1961', text:'Contribuiu para o sucesso de missões tripuladas iniciais.'},
      {year:'2015', text:'Reconhecimento público, incluindo medalhas e homenagens.'}
    ]
  },

  timnit: {
    title:'Timnit Gebru',
    desc:'Pesquisadora em ética de IA, identificou vieses em modelos e promoveu diversidade em tecnologia.',
    ref:'https://en.wikipedia.org/wiki/Timnit_Gebru',
    img: 'imagem/5.png',
    events:[
      {year:'2016', text:'Coautora do estudo "Gender Shades" expondo vieses em reconhecimento facial.'},
      {year:'2018', text:'Liderou pesquisas em ética da IA e políticas de modelos de linguagem.'},
      {year:'2021', text:'Fundou iniciativas independentes para promover IA responsável.'}
    ]
  },

  mandela: {
    title:'Nelson Mandela',
    desc:'Líder do movimento anti-apartheid e primeiro presidente negro da África do Sul.',
    ref:'https://pt.wikipedia.org/wiki/Nelson_Mandela',
    img: 'imagem/6.png',
    events:[
      {year:'1962', text:'Prisão após atividades contra o regime do apartheid.'},
      {year:'1990', text:'Libertado após 27 anos na prisão.'},
      {year:'1994', text:'Eleito presidente; liderou processo de reconciliação nacional.'}
    ]
  },

  mlk: {
    title:'Martin Luther King Jr.',
    desc:'Pastor e líder dos direitos civis nos EUA, conhecido pela resistência não-violenta.',
    ref:'https://pt.wikipedia.org/wiki/Martin_Luther_King_Jr.',
    img: 'imagem/7.png',
    events:[
      {year:'1955', text:'Liderou o boicote aos ônibus de Montgomery.'},
      {year:'1963', text:'Discurso "I Have a Dream" em Washington.'},
      {year:'1964', text:'Recebeu o Prêmio Nobel da Paz.'}
    ]
  },


  obama: {
    title:'Barack Obama',
    desc:'Primeiro presidente afro-americano dos EUA com papel marcante em políticas internas e externas.',
    ref:'https://pt.wikipedia.org/wiki/Barack_Obama',
    img: 'imagem/9.png',
    events:[
      {year:'2008', text:'Eleito presidente dos EUA.'},
      {year:'2009–2017', text:'Mandato com políticas em saúde, economia e relações exteriores.'},
      {year:'pós-2017', text:'Atuação em iniciativas civis, livros e discursos globais.'}
    ]
  },

  marielle: {
    title:'Marielle Franco',
    desc:'Vereadora e defensora dos direitos humanos, símbolo da luta por justiça no Brasil.',
    ref:'https://pt.wikipedia.org/wiki/Marielle_Franco',
    img: 'imagem/10.png',
    events:[
      {year:'2016', text:'Atuação política focada em direitos humanos e comunidades periféricas.'},
      {year:'2018', text:'Assassinada, gerando comoção e mobilização nacional e internacional.'},
      {year:'Legado', text:'Inspirou movimentos por justiça e políticas inclusivas.'}
    ]
  },


  pele: {
    title:'Pelé (Edson Arantes do Nascimento)',
    desc:'Jogador de futebol considerado um dos melhores de todos os tempos.',
    ref:'https://pt.wikipedia.org/wiki/Pel%C3%A9',
    img: 'imagem/16.png',
    events:[
      {year:'1958', text:'Primeiro título mundial com apenas 17 anos.'},
      {year:'1970', text:'Terceiro título mundial com a seleção brasileira.'},
      {year:'Legado', text:'Ícone mundial do futebol e embaixador esportivo.'}
    ]
  },


  // Nova seção: Educação & Desenvolvimento Humano
  celia: {
    title:'Célia',
    desc:'Educadora dedicada à formação humana e social, valorizando empatia e colaboração.',
    img: 'imagem/celia.png',
    events:[
      {year:'1990s', text:'Atuou em projetos de alfabetização e cidadania.'},
      {year:'2000s', text:'Formou professores em metodologias participativas.'}
    ]
  },

  claudia: {
    title:'Cláudia',
    desc:'Pedagoga e pesquisadora em aprendizagem significativa.',
    img: 'imagem/claudia.png',
    events:[
      {year:'2000s', text:'Coordenou programas de educação inclusiva.'},
      {year:'Atualidade', text:'Promove formações sobre empatia e protagonismo estudantil.'}
    ]
  },

  rosaria: {
    title:'Rosária',
    desc:'Especialista em desenvolvimento humano e práticas educativas transformadoras.',
    img: 'imagem/rosaria.png',
    events:[
      {year:'2000s', text:'Desenvolveu programas de formação continuada para educadores.'},
      {year:'2010s', text:'Atuou com desenvolvimento socioemocional em escolas públicas.'}
    ]
  },

  quennia: {
    title:'Quenia',
    desc:'Psicóloga educacional comprometida com o bem-estar e a inclusão na aprendizagem.',
    img: 'imagem/quennia.png',
    events:[
      {year:'2010s', text:'Pesquisou saúde mental escolar.'},
      {year:'Atualidade', text:'Coordena projetos de acolhimento emocional em redes de ensino.'}
    ]
  }
};

    /****************************************************************
     * Interação modal: ao clicar em qualquer card, abre o modal
     * Carrega dados do elemento e da tabela timelineData
     * Preload da imagem evita "piscar" ao trocar src
     ****************************************************************/
    const modal = document.getElementById('modal');
    const modalTitle = document.getElementById('modal-title');
    const modalSub = document.getElementById('modal-sub');
    const modalDesc = document.getElementById('modal-desc');
    const modalLinks = document.getElementById('modal-links');
    const modalImage = document.getElementById('m-image');
    const modalTimeline = document.getElementById('modal-timeline');
    const closeBtn = document.getElementById('closeBtn');
    const btnCloseFooter = document.getElementById('btnCloseFooter');

    // focus management: element to return focus when modal closes
    let lastFocusedElement = null;

    // helper: preload image then set to img element (avoids flicker)
    function setModalImage(src, alt){
      if(!src) { modalImage.src = 'imagem/default.jpg'; modalImage.alt = alt || ''; return; }
      // if same src already set, don't reload
      try {
        const current = new URL(modalImage.src, location.href).href;
        const incoming = new URL(src, location.href).href;
        if(current === incoming){
          modalImage.alt = alt || modalImage.alt;
          return;
        }
      } catch (e) {
        // ignore URL parsing issues, continue to preload
      }

      modalImage.style.opacity = '0';
      const imgPre = new Image();
      imgPre.onload = () => {
        modalImage.src = src;
        modalImage.alt = alt || '';
        // small delay to ensure smoothness
        requestAnimationFrame(()=> {
          modalImage.style.transition = 'opacity .16s ease';
          modalImage.style.opacity = '1';
        });
      };
      imgPre.onerror = () => {
        modalImage.src = 'imagem/default.jpg';
        modalImage.alt = alt || '';
        modalImage.style.opacity = '1';
      };
      imgPre.src = src;
    }

    // atribui evento a todos os cards
    document.querySelectorAll('.card').forEach(card=>{
      card.addEventListener('click', (e)=> {
        lastFocusedElement = e.currentTarget;
        const id = card.dataset.id;
        const img = card.dataset.img || card.querySelector('img')?.src || 'imagem/default.jpg';
        const ref = card.dataset.ref || '';
        const descAttr = card.dataset.desc || '';

        // preenche com dados do objeto timelineData quando disponível
        if(timelineData[id]){
          const data = timelineData[id];
          modalTitle.textContent = data.title;
          modalSub.textContent = card.querySelector('.meta')?.textContent || descAttr || data.desc || '';
          modalDesc.textContent = data.desc || descAttr || '';
          modalLinks.innerHTML = data.ref ? `<a href="${data.ref}" target="_blank" rel="noopener">Referência</a>` : (ref ? `<a href="${ref}" target="_blank" rel="noopener">Referência</a>` : '');
          // imagem (usa preload para evitar piscada)
          setModalImage(data.img || img, data.title);

          // timeline
          modalTimeline.innerHTML = (data.events || []).map(ev => `
            <div class="event" role="group" aria-label="${ev.year}">
              <div class="dot" aria-hidden="true"></div>
              <h4>${ev.year}</h4>
              <p>${ev.text}</p>
            </div>
          `).join('');
        } else {
          // fallback se não tiver timelineData
          modalTitle.textContent = card.querySelector('h3')?.textContent || 'Pessoa';
          modalSub.textContent = card.querySelector('.meta')?.textContent || '';
          modalDesc.textContent = descAttr || 'Descrição não disponível.';
          modalLinks.innerHTML = ref ? `<a href="${ref}" target="_blank" rel="noopener">Referência</a>` : '';
          setModalImage(img, modalTitle.textContent);
          modalTimeline.innerHTML = '<div class="event"><div class="dot"></div><h4>—</h4><p>Sem eventos cadastrados.</p></div>';
        }

        // mostrar modal
        modal.classList.add('show');
        modal.setAttribute('aria-hidden','false');
        // for accessibility, move focus to modal close button
        closeBtn.focus();
      });
    });

    // fechar modal
    function fecharModal(){
      modal.classList.remove('show');
      modal.setAttribute('aria-hidden','true');
      // return focus to last element
      if(lastFocusedElement) lastFocusedElement.focus();
    }
    closeBtn.addEventListener('click', fecharModal);
    btnCloseFooter.addEventListener('click', fecharModal);

    // fechar ao clicar fora
    modal.addEventListener('click', (e)=>{
      if(e.target === modal) fecharModal();
    });

    // fechar com ESC
    document.addEventListener('keydown', (e)=>{
      if(e.key === 'Escape' && modal.classList.contains('show')) {
        // if zoom overlay open, close it first
        const overlay = document.querySelector('.zoom-overlay');
        if(overlay) { overlay.remove(); return; }
        fecharModal();
      }
    });

    /****************************************************************
     * Ampliar imagem ao clicar na miniatura do modal
     ****************************************************************/
    modalImage.addEventListener('click', (e)=>{
      // if modal not visible, ignore
      if(!modal.classList.contains('show')) return;

      const existing = document.querySelector('.zoom-overlay');
      if(existing) { existing.remove(); return; } // toggle off if already open

      const overlay = document.createElement('div');
      overlay.className = 'zoom-overlay';
      // create larger image element
      const big = document.createElement('img');
      // use already-loaded src (safer than dataset)
      big.src = modalImage.src || 'imagem/default.jpg';
      big.alt = modalImage.alt || '';
      overlay.appendChild(big);

      // append and trap events
      document.body.appendChild(overlay);

      // clicking overlay removes it
      overlay.addEventListener('click', ()=> overlay.remove());
      // allow ESC to close overlay as well (handled in keydown)
    });

  </script>
</body>
</html>

